<script src=parser.js></script>
<style>
 textarea { width:100%; height:50% }
</style>
<textarea oninput=test()>WEBVTT

00:11.000 --> 00:13.000 D:vertical
<v Roger Bingham>We are in New York City

00:13.000 --> 00:16.000
<v Roger Bingham>We're actually at the Lucern Hotel, just down the street

00:16.000 --> 00:18.000
<v Roger Bingham>from the American Museum of Natural History

00:18.000 --> 00:20.000
<v Roger Bingham>And with me is Neil deGrasse Tyson

00:20.000 --> 00:22.000
<v Roger Bingham>Astrophysicist, Director of the Hayden Planetarium

</textarea>
<ol></ol>
<script>
  function test() {
    //var start = (new Date).getTime();
    var p = new WebVTTParser()
    p.parse(document.getElementsByTagName("textarea")[0].value)
    //var diff = (new Date).getTime() - start;
    var ol = document.getElementsByTagName("ol")[0]
    ol.textContent = ""
    if(p.errors.length > 0) {
      for(var i = 0; i < p.errors.length; i++) {
        var error = p.errors[i],
            message = "Line " + error.line,
            li = document.createElement("li")
        if(error.col)
          message += ", column " + error.col
        li.textContent = message + ": " + error.message
        ol.appendChild(li)
      }
    }
  }
</script>
